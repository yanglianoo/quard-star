
Memory Configuration

Name             Origin             Length             Attributes
ram              0x0000000080200000 0x0000000008000000 axrl!w
*default*        0x0000000000000000 0xffffffffffffffff

Linker script and memory map

LOAD entry.o
LOAD kerneltrap.o
LOAD switch.o
LOAD link_app.o
LOAD sbi.o
LOAD main.o
LOAD printk.o
LOAD trap.o
LOAD syscall.o
LOAD string.o
LOAD app.o
LOAD timer.o
LOAD stack.o
LOAD address.o
LOAD task.o
LOAD assert.o
LOAD vsprintf.o
LOAD printf.o
LOAD loader.o
                0x0000000080200000                BASE_ADDRESS = 0x80200000
                0x0000000000000000                skernel = .

.text           0x0000000080200000     0x5000
 *(.text.entry)
 .text.entry    0x0000000080200000        0xc entry.o
                0x0000000080200000                _start
                0x0000000080201000                . = ALIGN (0x1000)
 *fill*         0x000000008020000c      0xff4 
                0x0000000080201000                trampoline = .
 *(.text.trampoline)
 .text.trampoline
                0x0000000080201000       0xca kerneltrap.o
                0x0000000080201000                __alltraps
                0x0000000080201068                __restore
                0x0000000080202000                . = ALIGN (0x1000)
 *fill*         0x00000000802010ca      0xf36 
                0x0000000080202000                _strampoline = .
 *(.text .text.*)
 .text          0x0000000080202000        0x0 entry.o
 .text          0x0000000080202000        0x0 kerneltrap.o
 .text          0x0000000080202000       0x6a switch.o
                0x0000000080202000                __switch
 *fill*         0x000000008020206a        0x6 
 .text          0x0000000080202070        0x2 link_app.o
 .text          0x0000000080202072       0xe4 sbi.o
                0x0000000080202072                sbi_ecall
                0x00000000802020f6                sbi_console_putchar
                0x0000000080202124                sbi_set_timer
 .text          0x0000000080202156       0x4e main.o
                0x0000000080202156                os_main
 .text          0x00000000802021a4      0x142 printk.o
                0x00000000802021a4                uart_puts
                0x0000000080202260                printk
                0x00000000802022b8                panic
 .text          0x00000000802022e6      0x1b6 trap.o
                0x000000008020231a                trap_from_kernel
                0x0000000080202338                set_kernel_trap_entry
                0x0000000080202358                set_user_trap_entry
                0x0000000080202378                trap_handler
                0x000000008020243a                trap_return
 .text          0x000000008020249c      0x1c4 syscall.o
                0x000000008020249c                translated_byte_buffer
                0x000000008020255c                __sys_write
                0x00000000802025aa                __sys_yield
                0x00000000802025c0                __sys_gettime
                0x00000000802025d8                __SYSCALL
 .text          0x0000000080202660       0xe2 string.o
                0x0000000080202660                strlen
                0x000000008020269c                memcpy
                0x00000000802026f2                memset
 .text          0x0000000080202742       0xae app.o
                0x0000000080202742                syscall
                0x0000000080202776                sys_write
                0x00000000802027ac                sys_yield
                0x00000000802027ce                sys_gettime
 .text          0x00000000802027f0      0x120 timer.o
                0x0000000080202872                set_next_trigger
                0x0000000080202898                timer_init
                0x00000000802028e6                get_time_us
 .text          0x0000000080202910      0x18e stack.o
                0x0000000080202910                initStack
                0x0000000080202930                isEmpty
                0x000000008020295e                isFull
                0x0000000080202990                push
                0x00000000802029fa                pop
                0x0000000080202a56                top
 .text          0x0000000080202a9e      0xa3c address.o
                0x0000000080202ae4                phys_addr_from_size_t
                0x0000000080202b08                phys_page_num_from_size_t
                0x0000000080202b2c                size_t_from_phys_addr
                0x0000000080202b42                size_t_from_phys_page_num
                0x0000000080202b58                phys_addr_from_phys_page_num
                0x0000000080202b78                virt_addr_from_size_t
                0x0000000080202b9c                virt_page_num_from_size_t
                0x0000000080202bc2                size_t_from_virt_addr
                0x0000000080202bf0                size_t_from_virt_page_num
                0x0000000080202c06                floor_phys
                0x0000000080202c26                ceil_phys
                0x0000000080202c4c                floor_virts
                0x0000000080202c6c                virt_page_num_from_virt_addr
                0x0000000080202c8c                PageTableEntry_new
                0x0000000080202cba                PageTableEntry_empty
                0x0000000080202cd0                PageTableEntry_ppn
                0x0000000080202cfa                PageTableEntry_flags
                0x0000000080202d16                PageTableEntry_is_valid
                0x0000000080202d4c                get_bytes_array
                0x0000000080202d74                get_pte_array
                0x0000000080202d9c                StackFrameAllocator_new
                0x0000000080202dce                StackFrameAllocator_init
                0x0000000080202dfc                StackFrameAllocator_alloc
                0x0000000080202e80                StackFrameAllocator_dealloc
                0x0000000080202f22                frame_alloctor_init
                0x0000000080202faa                indexes
                0x0000000080203038                find_pte_create
                0x0000000080203102                kalloc
                0x000000008020312a                find_pte
                0x00000000802031d4                PageTable_map
                0x00000000802032c2                PageTable_unmap
                0x000000008020332c                kvmmake
                0x000000008020346c                kvminit
                0x00000000802034a8                kvminithart
 .text          0x00000000802034da      0x650 task.o
                0x000000008020350e                tcx_init
                0x0000000080203586                proc_mapstacks
                0x0000000080203668                proc_trap
                0x00000000802036ba                proc_pagetable
                0x0000000080203770                task_create_pt
                0x0000000080203800                app_init
                0x0000000080203984                get_current_trap_cx
                0x00000000802039b0                current_user_token
                0x00000000802039e2                schedule
                0x0000000080203ae6                run_first_task
 .text          0x0000000080203b2a       0x6c assert.o
                0x0000000080203b48                assertion_failure
 .text          0x0000000080203b96      0x430 vsprintf.o
                0x0000000080203b96                _vsnprintf
 .text          0x0000000080203fc6       0xc2 printf.o
                0x0000000080204030                printf
 .text          0x0000000080204088      0x3a2 loader.o
                0x0000000080204088                get_num_app
                0x00000000802040a0                get_app_data
                0x00000000802041dc                load_app
                0x0000000080205000                . = ALIGN (0x1000)
 *fill*         0x000000008020442a      0xbd6 
                0x0000000080205000                PROVIDE (etext = .)

.rodata         0x0000000080205000     0x1000
 *(.rodata .rodata.*)
 .rodata        0x0000000080205000       0x11 main.o
 *fill*         0x0000000080205011        0x7 
 .rodata        0x0000000080205018       0x32 printk.o
 *fill*         0x000000008020504a        0x6 
 .rodata        0x0000000080205050       0x56 trap.o
 *fill*         0x00000000802050a6        0x2 
 .rodata        0x00000000802050a8       0x43 syscall.o
 *fill*         0x00000000802050eb        0x5 
 .rodata        0x00000000802050f0       0x38 stack.o
 .rodata        0x0000000080205128      0x13a address.o
 *fill*         0x0000000080205262        0x6 
 .rodata        0x0000000080205268      0x130 task.o
 .rodata        0x0000000080205398       0x74 assert.o
 .rodata        0x000000008020540c       0x58 vsprintf.o
 *fill*         0x0000000080205464        0x4 
 .rodata        0x0000000080205468       0x63 loader.o
                0x0000000080206000                . = ALIGN (0x1000)
 *fill*         0x00000000802054cb      0xb35 

.rela.dyn       0x0000000080206000        0x0
 .rela.text     0x0000000080206000        0x0 entry.o

.data           0x0000000080206000     0x5000
 *(.sdata .sdata.*)
 *(.data .data.*)
 .data          0x0000000080206000        0x0 entry.o
 .data          0x0000000080206000        0x0 kerneltrap.o
 .data          0x0000000080206000        0x0 switch.o
 .data          0x0000000080206000     0x4da8 link_app.o
                0x0000000080206000                _num_app
                0x0000000080206020                app_0_start
                0x00000000802086e8                app_0_end
                0x00000000802086e8                app_1_start
                0x000000008020ada8                app_1_end
 .data          0x000000008020ada8        0x0 sbi.o
 .data          0x000000008020ada8        0x0 main.o
 .data          0x000000008020ada8        0x0 printk.o
 .data          0x000000008020ada8        0x0 trap.o
 .data          0x000000008020ada8        0x0 syscall.o
 .data          0x000000008020ada8        0x0 string.o
 .data          0x000000008020ada8        0x0 app.o
 .data          0x000000008020ada8        0x0 timer.o
 .data          0x000000008020ada8        0x0 stack.o
 .data          0x000000008020ada8        0x0 address.o
 .data          0x000000008020ada8        0x0 task.o
 .data          0x000000008020ada8        0x0 assert.o
 .data          0x000000008020ada8        0x0 vsprintf.o
 .data          0x000000008020ada8        0x0 printf.o
 .data          0x000000008020ada8        0x0 loader.o
                0x000000008020b000                . = ALIGN (0x1000)
 *fill*         0x000000008020ada8      0x258 
                [!provide]                        PROVIDE (_data_end = .)

.bss            0x000000008020b000    0x4d000
 *(.sbss .sbss.*)
 .sbss          0x000000008020b000       0x10 address.o
                0x000000008020b000                kernel_pagetable
                0x000000008020b008                kernel_satp
 *(.bss .bss.*)
 .bss           0x000000008020b010        0x0 entry.o
 .bss.stack     0x000000008020b010    0x10000 entry.o
                0x000000008020b010                boot_stack_lower_bound
                0x000000008021b010                boot_stack_top
 .bss           0x000000008021b010        0x0 kerneltrap.o
 .bss           0x000000008021b010        0x0 switch.o
 .bss           0x000000008021b010        0x0 link_app.o
 .bss           0x000000008021b010        0x0 sbi.o
 .bss           0x000000008021b010        0x0 main.o
 .bss           0x000000008021b010      0x3e8 printk.o
 .bss           0x000000008021b3f8        0x0 trap.o
 .bss           0x000000008021b3f8        0x0 syscall.o
 .bss           0x000000008021b3f8        0x0 string.o
 .bss           0x000000008021b3f8        0x0 app.o
 .bss           0x000000008021b3f8        0x0 timer.o
 .bss           0x000000008021b3f8        0x0 stack.o
 .bss           0x000000008021b3f8    0x13898 address.o
                0x000000008021b3f8                FrameAllocatorImpl
 .bss           0x000000008022ec90    0x28698 task.o
                0x000000008022ec90                KernelStack
                0x0000000080242c90                UserStack
                0x0000000080256c90                tasks
 .bss           0x0000000080257328        0x0 assert.o
 .bss           0x0000000080257328        0x0 vsprintf.o
 .bss           0x0000000080257328      0x3e8 printf.o
 .bss           0x0000000080257710        0x0 loader.o
 *(COMMON)
                0x0000000080258000                . = ALIGN (0x1000)
 *fill*         0x0000000080257710      0x8f0 
                0x0000000080258000                PROVIDE (kernelend = .)
OUTPUT(os.elf elf64-littleriscv)

.riscv.attributes
                0x0000000000000000       0x42
 .riscv.attributes
                0x0000000000000000       0x3c entry.o
 .riscv.attributes
                0x000000000000003c       0x40 kerneltrap.o
 .riscv.attributes
                0x000000000000007c       0x3c switch.o
 .riscv.attributes
                0x00000000000000b8       0x3c link_app.o
 .riscv.attributes
                0x00000000000000f4       0x3e sbi.o
 .riscv.attributes
                0x0000000000000132       0x3e main.o
 .riscv.attributes
                0x0000000000000170       0x3e printk.o
 .riscv.attributes
                0x00000000000001ae       0x42 trap.o
 .riscv.attributes
                0x00000000000001f0       0x3e syscall.o
 .riscv.attributes
                0x000000000000022e       0x3e string.o
 .riscv.attributes
                0x000000000000026c       0x3e app.o
 .riscv.attributes
                0x00000000000002aa       0x42 timer.o
 .riscv.attributes
                0x00000000000002ec       0x3e stack.o
 .riscv.attributes
                0x000000000000032a       0x42 address.o
 .riscv.attributes
                0x000000000000036c       0x42 task.o
 .riscv.attributes
                0x00000000000003ae       0x3e assert.o
 .riscv.attributes
                0x00000000000003ec       0x3e vsprintf.o
 .riscv.attributes
                0x000000000000042a       0x3e printf.o
 .riscv.attributes
                0x0000000000000468       0x3e loader.o

.comment        0x0000000000000000       0x1b
 .comment       0x0000000000000000       0x1b sbi.o
                                         0x1c (size before relaxing)
 .comment       0x000000000000001b       0x1c main.o
 .comment       0x000000000000001b       0x1c printk.o
 .comment       0x000000000000001b       0x1c trap.o
 .comment       0x000000000000001b       0x1c syscall.o
 .comment       0x000000000000001b       0x1c string.o
 .comment       0x000000000000001b       0x1c app.o
 .comment       0x000000000000001b       0x1c timer.o
 .comment       0x000000000000001b       0x1c stack.o
 .comment       0x000000000000001b       0x1c address.o
 .comment       0x000000000000001b       0x1c task.o
 .comment       0x000000000000001b       0x1c assert.o
 .comment       0x000000000000001b       0x1c vsprintf.o
 .comment       0x000000000000001b       0x1c printf.o
 .comment       0x000000000000001b       0x1c loader.o
